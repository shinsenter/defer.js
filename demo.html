<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Demo - @shinsenter/defer.js</title>
    <script src="defer_plus.min.js"></script>
    <meta name="description" content="defer.js by shinsenter is a super tiny script to efficiently load JavaScript (and more). Loading your deferred JavaScript also means no render blocking, your browsing experience needn't wait for code you may not need yet. Extended version helps you to lazy-load any CSS files, images and iframes. They are all easy to use.">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="375">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,width=device-width">
    <style>
        html {
            box-sizing: border-box;
            font-family: Helvetica, Arial;
            font-size: 16px;
        }

        *,
        *:before,
        *:after {
            box-sizing: inherit;
        }

        h1,
        h2,
        div,
        p {
            margin: 2em auto;
            padding: 0;
            font-weight: normal;
            overflow: auto;
        }

        body {
            top: 0 !important;
            margin: 0;
            padding: 1em 2em;
        }

        p {
            margin: 0.5em auto;
        }

        pre,
        code {
            margin: 0;
            font-size: smaller;
        }

        #lang {
            margin: 0;
            padding: 0 0.5rem;
            list-style: none;
            text-align: right;
            position: absolute;
            right: 2em;
            background: #eee;
            top: 0;
            border-radius: 0 0 0.5em 0.5em;
            z-index: 10;
        }

        #lang>li {
            display: inline-block;
            line-height: 2;
            text-align: center;
        }

        #lang>li>a {
            padding: 0 0.5em;
            display: block;
        }

        table,
        img,
        pre,
        code {
            max-width: 100%;
            height: auto;
        }

        iframe,
        table {
            border: 0;
            width: 100%;
        }

        td {
            padding: 1em;
            vertical-align: middle;
        }

        .big {
            font-size: large;
        }

        .fade {
            transition: opacity 500ms ease;
            opacity: 0;
            background: #fafafa;
        }

        .fade.show {
            opacity: 1;
            background: transparent;
        }

        .long-content {
            display: block;
            height: 50rem;
            background: #f0f0f0;
        }

        .addthis_inline_share_toolbox,
        .fb-like {
            margin: 0;
        }

        .fb-like * {
            max-width: 100%;
            height: auto;
        }

        .center {
            text-align: center;
        }

        .w640 {
            max-width: 640px;
        }

        div.r16-9 {
            position: relative;
            max-width: 100%;
            padding-bottom: 56.25%;
            margin: 0;
        }

        div.r16-9 iframe {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
        }

        sup {
            font-size: 0.8em;
            color: red;
        }

        #gt-nvframe {
            top: -1000px !important;
            visibility: hidden !important;
        }
    </style>

    <script>
        // For Google Analytics
        window.dataLayer = window.dataLayer || [];

        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-34520609-2');

        // lazy-load Google Tag Manager and social button scripts
        deferscript('https://www.googletagmanager.com/gtag/js?id=UA-34520609-2', 'google-tag', 500);
        deferscript('https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c68e61cf456f1cb', 'social-buttons', 5000);

        // lazy-load 3rd-party library's JavaScript and CSS
        deferstyle('https://highlightjs.org/static/demo/styles/tomorrow.css', 'highlightjs-css', 1000);
        deferscript('https://highlightjs.org/static/highlight.site.pack.js', 'highlightjs-api', 1000, function() {
            document.querySelectorAll('pre code').forEach(function(block) {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>

<body id="top">
    <h1>Demo - @shinsenter/defer.js</h1>
    <ul id="lang">
        <li><a title="English" rel="alternate" hreflang="en" href="https://appseeds.net/defer.js/demo.html">EN</a></li>
        <li><a title="æ—¥æœ¬èªžç¿»è¨³" rel="alternate" hreflang="ja" href="https://translate.google.com/translate?hl=&sl=auto&tl=ja&u=https%3A%2F%2Fappseeds.net%2Fdefer.js%2Fdemo.html">JA</a></li>
        <li><a title="Tiáº¿ng Viá»‡t" rel="alternate" hreflang="vi" href="https://translate.google.com/translate?hl=&sl=auto&tl=vi&u=https%3A%2F%2Fappseeds.net%2Fdefer.js%2Fdemo.html">VI</a></li>
    </ul>
    <div id="fb-root"></div>
    <div class="addthis_inline_share_toolbox" data-url="https://github.com/shinsenter/defer.js" data-title="defer.js - A super tiny script to efficiently load JavaScript (and more)"></div>
    <section id="deferjs-usage">
        <h2 id="getting-started">Getting started</h2>
        <div>
            <p>You need to load this library <sup>(*)</sup> only once on a page, ideally right after the opening <code>&lt;head&gt;</code> tag:</p>
            <br />
            <code>Code:</code>
            <pre><code class="highlight html">
&lt;head&gt;
    &lt;title&gt;My awesome page&lt;/title&gt;
    &lt;script src="//raw.githubusercontent.com/shinsenter/defer.js/master/defer_plus.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
        </code></pre>
            <p>Because the <a href="//raw.githubusercontent.com/shinsenter/defer.js/master/defer_plus.min.js" target="_blank" title="minified version of defer.js">minified version</a> of defer.js is super tiny, you can inline its content directly into the
                HTML document and avoid the network request.</p>
            <p><small><sup>(*)</sup> Examples on this page are using <a href="https://github.com/shinsenter/defer.js/blob/master/README.md#extended-deferjs" title="Extended version defer_plus.min.js" target="_blank">extended version</a> of <a href="https://github.com/shinsenter/defer.js/" title="Visit defer.js on GitHub" target="_blank">defer.js</a>.</small></p>
        </div>
        <div>
            <p>You can use browser's <strong>Developer Tool</strong> (press F12) to watch how requests are sent.</p>
            <p>I added some spaces with gray background to demo lazy-load. Please scroll down.</p>
        </div>
        <div id="lazyload-widgets">
            <p><strong>But wait.</strong> Do you notice that there is a Facebook block on <a href="#top">the top</a>?</p>
            <p>Your browser loaded it after 5 seconds since your page fired the 'load' event.</p>
            <br />
            <code>Code:</code>
            <pre><code class="highlight html">
&lt;script type="text/javascript"&gt;
deferscript('https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c68e61cf456f1cb', 'social-buttons', 5000);
&lt;/script&gt;
        </code></pre>
            <p>You may reload the page and find it out your self.</p>
        </div>
        <div id="lazyload-3rd-party">
            <p>I also <strong>lazy-loaded 3rd-party library's JavaScript and CSS</strong>.</p>
            <p>Thanks to highlightjs for a lightweight, extensible syntax highlighter.</p>
            <br />
            <code>Code:</code>
            <pre><code class="highlight html">
&lt;script type="text/javascript"&gt;
deferstyle('https://highlightjs.org/static/demo/styles/tomorrow.css', 'highlightjs-css', 1000);
deferscript('https://highlightjs.org/static/highlight.site.pack.js', 'highlightjs-api', 1000, function() {
    document.querySelectorAll('pre code').forEach(function(block) {
        hljs.highlightBlock(block);
    });
});
&lt;/script&gt;
        </code></pre>
        </div>
        <div class="long-content"></div>
    </section>
    <section id="lazyload-images">
        <h2>Easiest way to lazy-load images</h2>
        <div>
            <table class="center">
                <tr>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="basic" width="400" height="300" data-src="https://picsum.photos/400/300/?image=311" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="basic" width="400" height="300" data-src="https://picsum.photos/400/300/?image=312" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="basic" width="400" height="300" data-src="https://picsum.photos/400/300/?image=313" alt="Random image" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="basic" width="400" height="300" data-src="https://picsum.photos/400/300/?image=314" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="basic" width="400" height="300" data-src="https://picsum.photos/400/300/?image=315" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="basic" width="400" height="300" data-src="https://picsum.photos/400/300/?image=316" alt="Random image" />
                    </td>
                </tr>
            </table>
            <div>
                <code>Code:</code>
                <pre><code class="highlight html">
&lt;img class="basic"
    data-src="https://picsum.photos/400/300/?image=314"
    width="400" height="300" alt="Random image" /&gt;

&lt;script type="text/javascript"&gt;deferimg('basic', 100);&lt;/script&gt;
            </code></pre>
            </div>
            <script>
                deferimg('basic', 100);
            </script>
        </div>
        <div class="long-content"></div>
    </section>
    <section id="lazyload-images-with-effect">
        <h2>Lazy-load images with CSS effect</h2>
        <div>
            <table class="center">
                <tr>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="fade" width="400" height="300" data-src="https://picsum.photos/400/300/?image=321" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="fade" width="400" height="300" data-src="https://picsum.photos/400/300/?image=322" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="fade" width="400" height="300" data-src="https://picsum.photos/400/300/?image=323" alt="Random image" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="fade" width="400" height="300" data-src="https://picsum.photos/400/300/?image=324" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="fade" width="400" height="300" data-src="https://picsum.photos/400/300/?image=325" alt="Random image" />
                    </td>
                    <td>
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="fade" width="400" height="300" data-src="https://picsum.photos/400/300/?image=326" alt="Random image" />
                    </td>
                </tr>
            </table>
            <div>
                <code>Code:</code>
                <pre><code class="highlight html">
&lt;style type="text/css"&gt;
.fade {
    transition: opacity 500ms ease;
    opacity: 0;
}

.fade.show {
    opacity: 1;
}
&lt;/style&gt;


&lt;img class="fade"
    data-src="https://picsum.photos/400/300/?image=314"
    width="400" height="300" alt="Random image" /&gt;


&lt;script type="text/javascript"&gt;
deferimg('fade', 100, 'loaded', function(img) {
    img.onload = function() {
        img.classList.add('show');
    }
});
&lt;/script&gt;
            </code></pre>
            </div>
            <script>
                deferimg('fade', 100, 'loaded', function(img) {
                    img.onload = function() {
                        img.classList.add('show');
                    }
                });
            </script>
        </div>
        <div class="long-content"></div>
    </section>
    <section id="lazyload-iframes">
        <h2>Lazy-load iframe (Youtube video) with CSS effect</h2>
        <div class="w640">
            <div class="r16-9 center">
                <iframe class="video fade" data-src="https://www.youtube.com/embed/Uz970DggW7E" width="560" height="315" allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
        </div>
        <div>
            <code>Code:</code>
            <pre><code class="highlight html">
&lt;iframe class="video fade"
    data-src="https://www.youtube.com/embed/Uz970DggW7E"
    width="560" height="315" allowfullscreen
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"&gt;&lt;/iframe&gt;

&lt;script type="text/javascript"&gt;
deferiframe('video', 100, 'loaded', function(frame) {
    frame.onload = function() {
        frame.classList.add('show');
    }
});
&lt;/script&gt;
        </code></pre>
        </div>
        <script>
            deferiframe('video', 100, 'loaded', function(frame) {
                frame.onload = function() {
                    frame.classList.add('show');
                }
            });
        </script>
        <div class="long-content"></div>
    </section>
    <section id="deferjs-seo-friendly">
        <h2>And it's SEO friendly</h2>
        <div class="w640 center">
            <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" width="2270" height="1344" data-src="demo.jpg" alt="defer.js is SEO friendly" class="fade" />
        </div>
    </section>
    <p class="center">
        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" width="375" height="246" data-src="https://every-tuesday.com/wp-content/uploads/2015/11/thank-you-preview.jpg" alt="Thank you" class="fade" />
    </p>
    <hr />
    <div>
        <p>
            <a href="https://github.com/shinsenter/defer.js" title="Visit defer.js on GitHub" target="_blank">defer.js</a> is released under the <a href="https://raw.githubusercontent.com/shinsenter/defer.js/master/LICENSE" target="_blank">MIT license</a>.
        </p>
        <p>Copyright (c) 2019 <a href="mailto:shin@shin.company" target="_blank">Mai Nhá»±t TÃ¢n</a>.</p>
        <p>From <span class="big">ðŸ‡»ðŸ‡³</span> with love.</p>
    </div>
</body>

</html>